from rest_framework import serializersfrom base.models import Videofrom .models import Course, User,CourseVideofrom django.conf import settingsclass CourseSerializer(serializers.HyperlinkedModelSerializer):    id = serializers.SerializerMethodField()    finish_user = serializers.SerializerMethodField()    class Meta:        model = Course        fields = ('id', 'name', 'click_count', 'per', 'poster', 'finish_user')    def get_id(self,obj):        return str(obj.id)    #     return f'{settings.LINKED_URL}/course/c_detail/{obj.id}'    def get_finish_user(self, obj):        """        获取完成的用户数量        :param obj:        :return:        """        return 0class CourseDetailSerializer(serializers.ModelSerializer):    videos = serializers.SerializerMethodField()    def get_videos(self,obj):        course_videos = CourseVideo.objects.filter(course__id=obj.id)        return 1    class Meta:        model = Course        fields = ('name', 'click_count', 'per', 'poster','videos')